# Sidewalk

A representation of our sidewalk.

## Question

Implement function `all_wet_after_drop?`. It should accept a random Range that represents the raindrop falling onto the SIDEWALK. After letting this raindrop "hit" the sidewalk, it should return true if a drop has hit every point on the sidewalk, false otherwise.


## Design

#### Store Drops

Firstly, the drops should be stored in order to check in the next steps. I stored the drops as an array:

```
@drops = @drops ? @drops << drop : [drop]
```

#### Sort Drops

The key point to check the drops fully covered is to combine the overlapping drop range. In order to do this, I sorted the list of drops by the beginning of the range number.

```
drops.sort_by(&:first)
```

#### Merge Drops

After sort the drops, I began to merge the overlapping drops. I compare the neighbouring two drops from first to the end. If the neighbouring drops is overlapped, I combined them to a new drop range. Here, I set the first one to nil, and stored the combined drops to the second place in order to compare with the next one. Finally, I cleared `nil` object generated by the combination.

#### Check Drops

Finally, we are going to check the drops if fully covered. Because all the ranges start inside the range of sidewalk, so when fully covered, it should have only one drop in our list. Check this drop if full cover the sidewalk.

## Conclusion

The key problem of this question is about how to combine the list of ranges. The best solution is ordering them firstly, then combining them from first to end.

## Copyright

Copyright Â© 2016 Stephen Huang
